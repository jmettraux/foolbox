/* foolbox-all-1.0.0.min.js | MIT license: http://github.com/jmettraux/foolbox/LICENSE.txt */
var Nu=(function(){var a=this;function b(e){return(e.length===+e.length)}var c={};this.each=function(g,h){if(b(g)){for(var f=0,e=g.length;f<e;f++){if(h(g[f],f)===c){break}}}else{for(var f in g){if(h(f,g[f])===c){break}}}return g};this.detect=function(f,g){var e=undefined;a.each(f,function(i,h){if(!g(i,h)){return}e=b(f)?i:[i,h];return c});return e};this.find=this.detect;this.collect=function(f,g){var e=[];a.each(f,function(i,h){e.push(g(i,h))});return e};this.map=this.collect;this.inject=function(f,e,g){if(arguments.length===2){g=e}var h=arguments.length<3;a.each(f,function(j,i){if(h){e=b(f)?j:i;h=false;return}e=g(e,j,i)});return e};this.foldl=this.inject;this.reduce=this.inject;this.select=function(g,h){var f=b(g);var e=f?[]:{};a.each(g,function(j,i){var l=f?h(i,j):h(j,i);if(!l){return}if(f){e.push(i)}else{e[j]=i}});return e};this.filter=this.select;this.max=function(e){return a.reduce(e,function(f,g){return f>g?f:g})};this.min=function(e){return a.reduce(e,function(f,g){return f>g?g:f})};function d(f,g,e){if(g<-1){g=-1}a.each(f,function(h){if(Array.isArray(h)&&(g===-1||g>0)){d(h,g-1,e)}else{e.push(h)}});return e}this.flatten=function(e,f){return d(e,f||-1,[])};this.isEmpty=function(f){if(b(f)){return f.length===0}for(var e in f){if(f.hasOwnProperty(e)){return false}}return true};this.eachWithObject=function(f,e,g){if(Array.isArray(f)){return a.inject(f,e,function(h,i){g(i,h);return h})}else{return a.inject(f,e,function(h,j,i){g(j,i,h);return h})}};this.compact=function(e){if(Array.isArray(e)){return a.eachWithObject(e,[],function(g,f){if(g!==undefined&&g!==null){f.push(g)}})}else{return a.eachWithObject(e,{},function(g,f,i){if(f!==undefined&&f!==null){i[g]=f}})}};if([].indexOf){this.include=function(e,f){return(e.indexOf(f)>-1)}}else{this.include=function(f,h){for(var g=0,e=f.length;g<e;g++){if(f[g]===h){return true}}return false}}return this}).apply({});var John=(function(){var o=this;function e(q){try{return JSON.parse(q)}catch(r){}return undefined}function b(q){return JSON.stringify(q)}var h=" \t";function n(q){while(q.length>0&&h.indexOf(q.slice(0,1))>-1){q=q.slice(1)}return q}var a=/^'((?:\\.|[^'])*)'/;var g=/^"((?:\\.|[^"])*)"/;function c(q,r){return(q==='"'?g:a).exec(r)[1]}var d=/^[^}\],:\s]+/;function j(q){return d.exec(q)[0]}var l="{}[],:";function m(q,t){t=n(t);var w=t.slice(0,1);if(w.length===0){return q}var r=l.indexOf(w);if(r>-1){if(r<5){q.push(r)}return m(q,t.slice(1))}if(w==='"'||w==="'"){var v=c(w,t);q.push(v);return m(q,t.slice(v.length+2))}var u=j(t);q.push(u);return m(q,t.slice(u.length))}this.t=m;var p={};function i(s){var t={};while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}var q=f(s);t[r]=(q===p||q===undefined)?null:q}return t}function k(s){var q=[];while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}q.push(r)}return q}function f(s){var r=s.shift();if(r===0){return i(s)}if(r===2){return k(s)}if(r===1||r===3){return undefined}if(r===4){return p}var q=e(r);return q===undefined?r:q}this.parse=function(q){return f(m([],q))};this.p=this.parse;this.stringify=function(z,y){y=y||{};if(z===null){return y.ruby?"nil":"null"}var w=(typeof z);if(w==="number"||w==="boolean"){return""+z}if(z instanceof Array){var q=[];z.forEach(function(s){q.push(o.s(s,y))});return(q.length<1)?"[]":"[ "+q.join(", ")+" ]"}if(w==="object"){var q=[];for(var u in z){var x=o.s(u);var r=z[u];if(r!==null){x=x+": "+o.s(r,y)}q.push(x)}return(q.length<1)?"{}":"{ "+q.join(", ")+" }"}return(z.match(/[\s:,]/)||y.quote||y.ruby)?b(z):z};this.s=this.stringify;this.sfy=function(t,r){var q=this.stringify(t,r);if(q.match(/^{.*}$/)||q.match(/^\[.*\]$/)){q=q.slice(1,-1).trim()}return q};return this}).apply({});var Foolbox=(function(){var o="1.0.0";var l=this;function a(p){return((typeof p)==="string")}function g(p){return p&&a(p.nodeName)}function n(p){return p&&((typeof p)==="object")&&(!g(p))}function e(p){return p&&(!a(p))&&(p.length===+p.length)}function i(p){if(p.jquery){return p[0]}return p}this.create=function(){var q=null;var s=null;var v={};var x=null;var u=0;var y=arguments[0];u++;if(y){if(y.jquery){q=y[0]}else{if(g(y)){q=y}else{u=0}}}y=arguments[u];if(a(y)&&y.match(/^[a-zA-Z][a-zA-Z0-9]*$/)){u++;s=y}y=arguments[u];var p=null;if(a(y)&&(p=h(s,y))){u++;if(p.tagName){s=p.tagName}if(p.id){v.id=p.id}if(p["class"]){v["class"]=p["class"]}if(p.atts){for(var t in p.atts){v[t]=p.atts[t]}}}y=arguments[u];if(n(y)){u++;for(var t in y){v[t]=y[t]}}y=arguments[u];if(a(y)){u++;x=y}var w=document.createElement(s||"div");while(u<arguments.length){y=arguments[u];u++;if(g(y)){w.appendChild(y)}}for(var t in v){w.setAttribute(t,v[t])}if(x){w.innerHTML=x}if(q){q.appendChild(w)}b(w);return w};function b(p){p.c=j;p.s=k;p.a=k;p.b=d;p.f=c;p.t=f;p.p=m;Object.defineProperty(p,"$",{get:function(){return $(p)},set:function(){}})}function h(q,t){if(t.match(/\s/)){return false}if(q&&(!t.match(/[\.#@]/))){return false}var u={};var p=t.split(/^([^\.#@]+)?(.*)$/);if(p[1]){u.tagName=p[1];t=p[2]}while(t&&(p=t.split(/^([\.#@])([^\.#@]+)/))){if(p[1]==="#"){u.id=p[2]}else{if(p[1]==="."){u["class"]=u["class"]||[];u["class"].push(p[2])}else{if(p[1]==="@"){var v=p[2].split("=");u.atts=u.atts||{};u.atts[v[0]]=v[1]}}}t=p[3]}if(u["class"]){u["class"]=u["class"].join(" ")}return u}function j(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.create.apply(null,q)}function c(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.createAsFirst.apply(null,q)}function k(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.after.apply(null,q)}function d(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.before.apply(null,q)}function f(p){p.apply(null,[this]);return this}function m(){b(this.parentNode);return this.parentNode}this.c=this.create;this.createAsFirst=function(){var p=l.create.apply(null,arguments);p.parentNode.insertBefore(p,p.parentNode.firstChild);return p};this.caf=this.createAsFirst;this.f=this.createAsFirst;this.after=function(){var s=i(arguments[0]);var q=[];for(var r=1,p=arguments.length;r<p;r++){q.push(arguments[r])}var t=l.create.apply(null,q);if(s.nextSibling){s.parentNode.insertBefore(t,s.nextSibling)}else{s.parentNode.appendChild(t)}return t};this.a=this.after;this.before=function(){var s=i(arguments[0]);var q=[];for(var r=1,p=arguments.length;r<p;r++){q.push(arguments[r])}var t=l.create.apply(null,q);s.parentNode.insertBefore(t,s);return t};this.b=this.before;this.importScript=function(q){var p=document.createElement("script");p.src=q;p.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(p)};return this}).apply({});var Nu=(function(){var a=this;function b(e){return(e.length===+e.length)}var c={};this.each=function(g,h){if(b(g)){for(var f=0,e=g.length;f<e;f++){if(h(g[f],f)===c){break}}}else{for(var f in g){if(h(f,g[f])===c){break}}}return g};this.detect=function(f,g){var e=undefined;a.each(f,function(i,h){if(!g(i,h)){return}e=b(f)?i:[i,h];return c});return e};this.find=this.detect;this.collect=function(f,g){var e=[];a.each(f,function(i,h){e.push(g(i,h))});return e};this.map=this.collect;this.inject=function(f,e,g){if(arguments.length===2){g=e}var h=arguments.length<3;a.each(f,function(j,i){if(h){e=b(f)?j:i;h=false;return}e=g(e,j,i)});return e};this.foldl=this.inject;this.reduce=this.inject;this.select=function(g,h){var f=b(g);var e=f?[]:{};a.each(g,function(j,i){var l=f?h(i,j):h(j,i);if(!l){return}if(f){e.push(i)}else{e[j]=i}});return e};this.filter=this.select;this.max=function(e){return a.reduce(e,function(f,g){return f>g?f:g})};this.min=function(e){return a.reduce(e,function(f,g){return f>g?g:f})};function d(f,g,e){if(g<-1){g=-1}a.each(f,function(h){if(Array.isArray(h)&&(g===-1||g>0)){d(h,g-1,e)}else{e.push(h)}});return e}this.flatten=function(e,f){return d(e,f||-1,[])};this.isEmpty=function(f){if(b(f)){return f.length===0}for(var e in f){if(f.hasOwnProperty(e)){return false}}return true};this.eachWithObject=function(f,e,g){if(Array.isArray(f)){return a.inject(f,e,function(h,i){g(i,h);return h})}else{return a.inject(f,e,function(h,j,i){g(j,i,h);return h})}};this.compact=function(e){if(Array.isArray(e)){return a.eachWithObject(e,[],function(g,f){if(g!==undefined&&g!==null){f.push(g)}})}else{return a.eachWithObject(e,{},function(g,f,i){if(f!==undefined&&f!==null){i[g]=f}})}};if([].indexOf){this.include=function(e,f){return(e.indexOf(f)>-1)}}else{this.include=function(f,h){for(var g=0,e=f.length;g<e;g++){if(f[g]===h){return true}}return false}}return this}).apply({});var John=(function(){var o=this;function e(q){try{return JSON.parse(q)}catch(r){}return undefined}function b(q){return JSON.stringify(q)}var h=" \t";function n(q){while(q.length>0&&h.indexOf(q.slice(0,1))>-1){q=q.slice(1)}return q}var a=/^'((?:\\.|[^'])*)'/;var g=/^"((?:\\.|[^"])*)"/;function c(q,r){return(q==='"'?g:a).exec(r)[1]}var d=/^[^}\],:\s]+/;function j(q){return d.exec(q)[0]}var l="{}[],:";function m(q,t){t=n(t);var w=t.slice(0,1);if(w.length===0){return q}var r=l.indexOf(w);if(r>-1){if(r<5){q.push(r)}return m(q,t.slice(1))}if(w==='"'||w==="'"){var v=c(w,t);q.push(v);return m(q,t.slice(v.length+2))}var u=j(t);q.push(u);return m(q,t.slice(u.length))}this.t=m;var p={};function i(s){var t={};while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}var q=f(s);t[r]=(q===p||q===undefined)?null:q}return t}function k(s){var q=[];while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}q.push(r)}return q}function f(s){var r=s.shift();if(r===0){return i(s)}if(r===2){return k(s)}if(r===1||r===3){return undefined}if(r===4){return p}var q=e(r);return q===undefined?r:q}this.parse=function(q){return f(m([],q))};this.p=this.parse;this.stringify=function(z,y){y=y||{};if(z===null){return y.ruby?"nil":"null"}var w=(typeof z);if(w==="number"||w==="boolean"){return""+z}if(z instanceof Array){var q=[];z.forEach(function(s){q.push(o.s(s,y))});return(q.length<1)?"[]":"[ "+q.join(", ")+" ]"}if(w==="object"){var q=[];for(var u in z){var x=o.s(u);var r=z[u];if(r!==null){x=x+": "+o.s(r,y)}q.push(x)}return(q.length<1)?"{}":"{ "+q.join(", ")+" }"}return(z.match(/[\s:,]/)||y.quote||y.ruby)?b(z):z};this.s=this.stringify;this.sfy=function(t,r){var q=this.stringify(t,r);if(q.match(/^{.*}$/)||q.match(/^\[.*\]$/)){q=q.slice(1,-1).trim()}return q};return this}).apply({});var Foolbox=(function(){var o="1.0.0";var l=this;function a(p){return((typeof p)==="string")}function g(p){return p&&a(p.nodeName)}function n(p){return p&&((typeof p)==="object")&&(!g(p))}function e(p){return p&&(!a(p))&&(p.length===+p.length)}function i(p){if(p.jquery){return p[0]}return p}this.create=function(){var q=null;var s=null;var v={};var x=null;var u=0;var y=arguments[0];u++;if(y){if(y.jquery){q=y[0]}else{if(g(y)){q=y}else{u=0}}}y=arguments[u];if(a(y)&&y.match(/^[a-zA-Z][a-zA-Z0-9]*$/)){u++;s=y}y=arguments[u];var p=null;if(a(y)&&(p=h(s,y))){u++;if(p.tagName){s=p.tagName}if(p.id){v.id=p.id}if(p["class"]){v["class"]=p["class"]}if(p.atts){for(var t in p.atts){v[t]=p.atts[t]}}}y=arguments[u];if(n(y)){u++;for(var t in y){v[t]=y[t]}}y=arguments[u];if(a(y)){u++;x=y}var w=document.createElement(s||"div");while(u<arguments.length){y=arguments[u];u++;if(g(y)){w.appendChild(y)}}for(var t in v){w.setAttribute(t,v[t])}if(x){w.innerHTML=x}if(q){q.appendChild(w)}b(w);return w};function b(p){p.c=j;p.s=k;p.a=k;p.b=d;p.f=c;p.t=f;p.p=m;try{Object.defineProperty(p,"$",{get:function(){return $(p)},set:function(){}})}catch(q){}}function h(q,t){if(t.match(/\s/)){return false}if(q&&(!t.match(/[\.#@]/))){return false}var u={};var p=t.split(/^([^\.#@]+)?(.*)$/);if(p[1]){u.tagName=p[1];t=p[2]}while(t&&(p=t.split(/^([\.#@])([^\.#@]+)/))){if(p[1]==="#"){u.id=p[2]}else{if(p[1]==="."){u["class"]=u["class"]||[];u["class"].push(p[2])}else{if(p[1]==="@"){var v=p[2].split("=");u.atts=u.atts||{};u.atts[v[0]]=v[1]}}}t=p[3]}if(u["class"]){u["class"]=u["class"].join(" ")}return u}function j(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.create.apply(null,q)}function c(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.createAsFirst.apply(null,q)}function k(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.after.apply(null,q)}function d(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.before.apply(null,q)}function f(p){p.apply(null,[this]);return this}function m(){b(this.parentNode);return this.parentNode}this.c=this.create;this.createAsFirst=function(){var p=l.create.apply(null,arguments);p.parentNode.insertBefore(p,p.parentNode.firstChild);return p};this.caf=this.createAsFirst;this.f=this.createAsFirst;this.empty=function(){var p=i(arguments[0]);while(p.firstChild){p.removeChild(p.firstChild)}b(p);return p};this.e=this.empty;this.after=function(){var s=i(arguments[0]);var q=[];for(var r=1,p=arguments.length;r<p;r++){q.push(arguments[r])}var t=l.create.apply(null,q);if(s.nextSibling){s.parentNode.insertBefore(t,s.nextSibling)}else{s.parentNode.appendChild(t)}return t};this.a=this.after;this.before=function(){var s=i(arguments[0]);var q=[];for(var r=1,p=arguments.length;r<p;r++){q.push(arguments[r])}var t=l.create.apply(null,q);s.parentNode.insertBefore(t,s);return t};this.b=this.before;this.importScript=function(q){var p=document.createElement("script");p.src=q;p.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(p)};return this}).apply({});var Nu=(function(){var a=this;function b(e){return(e.length===+e.length)}var c={};this.each=function(g,h){if(b(g)){for(var f=0,e=g.length;f<e;f++){if(h(g[f],f)===c){break}}}else{for(var f in g){if(h(f,g[f])===c){break}}}return g};this.detect=function(f,g){var e=undefined;a.each(f,function(i,h){if(!g(i,h)){return}e=b(f)?i:[i,h];return c});return e};this.find=this.detect;this.collect=function(f,g){var e=[];a.each(f,function(i,h){e.push(g(i,h))});return e};this.map=this.collect;this.inject=function(f,e,g){if(arguments.length===2){g=e}var h=arguments.length<3;a.each(f,function(j,i){if(h){e=b(f)?j:i;h=false;return}e=g(e,j,i)});return e};this.foldl=this.inject;this.reduce=this.inject;this.select=function(g,h){var f=b(g);var e=f?[]:{};a.each(g,function(j,i){var l=f?h(i,j):h(j,i);if(!l){return}if(f){e.push(i)}else{e[j]=i}});return e};this.filter=this.select;this.max=function(e){return a.reduce(e,function(f,g){return f>g?f:g})};this.min=function(e){return a.reduce(e,function(f,g){return f>g?g:f})};function d(f,g,e){if(g<-1){g=-1}a.each(f,function(h){if(Array.isArray(h)&&(g===-1||g>0)){d(h,g-1,e)}else{e.push(h)}});return e}this.flatten=function(e,f){return d(e,f||-1,[])};this.isEmpty=function(f){if(b(f)){return f.length===0}for(var e in f){if(f.hasOwnProperty(e)){return false}}return true};this.eachWithObject=function(f,e,g){if(Array.isArray(f)){return a.inject(f,e,function(h,i){g(i,h);return h})}else{return a.inject(f,e,function(h,j,i){g(j,i,h);return h})}};this.compact=function(e){if(Array.isArray(e)){return a.eachWithObject(e,[],function(g,f){if(g!==undefined&&g!==null){f.push(g)}})}else{return a.eachWithObject(e,{},function(g,f,i){if(f!==undefined&&f!==null){i[g]=f}})}};if([].indexOf){this.include=function(e,f){return(e.indexOf(f)>-1)}}else{this.include=function(f,h){for(var g=0,e=f.length;g<e;g++){if(f[g]===h){return true}}return false}}return this}).apply({});var John=(function(){var o=this;function e(q){try{return JSON.parse(q)}catch(r){}return undefined}function b(q){return JSON.stringify(q)}var h=" \t";function n(q){while(q.length>0&&h.indexOf(q.slice(0,1))>-1){q=q.slice(1)}return q}var a=/^'((?:\\.|[^'])*)'/;var g=/^"((?:\\.|[^"])*)"/;function c(q,r){return(q==='"'?g:a).exec(r)[1]}var d=/^[^}\],:\s]+/;function j(q){return d.exec(q)[0]}var l="{}[],:";function m(q,t){t=n(t);var w=t.slice(0,1);if(w.length===0){return q}var r=l.indexOf(w);if(r>-1){if(r<5){q.push(r)}return m(q,t.slice(1))}if(w==='"'||w==="'"){var v=c(w,t);q.push(v);return m(q,t.slice(v.length+2))}var u=j(t);q.push(u);return m(q,t.slice(u.length))}this.t=m;var p={};function i(s){var t={};while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}var q=f(s);t[r]=(q===p||q===undefined)?null:q}return t}function k(s){var q=[];while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}q.push(r)}return q}function f(s){var r=s.shift();if(r===0){return i(s)}if(r===2){return k(s)}if(r===1||r===3){return undefined}if(r===4){return p}var q=e(r);return q===undefined?r:q}this.parse=function(q){return f(m([],q))};this.p=this.parse;this.stringify=function(z,y){y=y||{};if(z===null){return y.ruby?"nil":"null"}var w=(typeof z);if(w==="number"||w==="boolean"){return""+z}if(z instanceof Array){var q=[];z.forEach(function(s){q.push(o.s(s,y))});return(q.length<1)?"[]":"[ "+q.join(", ")+" ]"}if(w==="object"){var q=[];for(var u in z){var x=o.s(u);var r=z[u];if(r!==null){x=x+": "+o.s(r,y)}q.push(x)}return(q.length<1)?"{}":"{ "+q.join(", ")+" }"}return(z.match(/[\s:,]/)||y.quote||y.ruby)?b(z):z};this.s=this.stringify;this.sfy=function(t,r){var q=this.stringify(t,r);if(q.match(/^{.*}$/)||q.match(/^\[.*\]$/)){q=q.slice(1,-1).trim()}return q};return this}).apply({});var Foolbox=(function(){var o="1.0.0";var l=this;function a(p){return((typeof p)==="string")}function g(p){return p&&a(p.nodeName)}function n(p){return p&&((typeof p)==="object")&&(!g(p))}function e(p){return p&&(!a(p))&&(p.length===+p.length)}function i(p){if(p.jquery){return p[0]}return p}this.create=function(){var q=null;var s=null;var v={};var x=null;var u=0;var y=arguments[0];u++;if(y){if(y.jquery){q=y[0]}else{if(g(y)){q=y}else{u=0}}}y=arguments[u];if(a(y)&&y.match(/^[a-zA-Z][a-zA-Z0-9]*$/)){u++;s=y}y=arguments[u];var p=null;if(a(y)&&(p=h(s,y))){u++;if(p.tagName){s=p.tagName}if(p.id){v.id=p.id}if(p["class"]){v["class"]=p["class"]}if(p.atts){for(var t in p.atts){v[t]=p.atts[t]}}}y=arguments[u];if(n(y)){u++;for(var t in y){v[t]=y[t]}}y=arguments[u];if(a(y)){u++;x=y}var w=document.createElement(s||"div");while(u<arguments.length){y=arguments[u];u++;if(g(y)){w.appendChild(y)}}for(var t in v){w.setAttribute(t,v[t])}if(x){w.innerHTML=x}if(q){q.appendChild(w)}b(w);return w};function b(p){p.c=j;p.s=k;p.a=k;p.b=d;p.f=c;p.t=f;p.p=m;try{Object.defineProperty(p,"$",{get:function(){return $(p)},set:function(){}})}catch(q){}}function h(q,t){if(t.match(/\s/)){return false}if(q&&(!t.match(/[\.#@]/))){return false}var u={};var p=t.split(/^([^\.#@]+)?(.*)$/);if(p[1]){u.tagName=p[1];t=p[2]}while(t&&(p=t.split(/^([\.#@])([^\.#@]+)/))){if(p[1]==="#"){u.id=p[2]}else{if(p[1]==="."){u["class"]=u["class"]||[];u["class"].push(p[2])}else{if(p[1]==="@"){var v=p[2].split("=");u.atts=u.atts||{};u.atts[v[0]]=v[1]}}}t=p[3]}if(u["class"]){u["class"]=u["class"].join(" ")}return u}function j(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.create.apply(null,q)}function c(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.createAsFirst.apply(null,q)}function k(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.after.apply(null,q)}function d(){var q=[this];for(var p in arguments){q.push(arguments[p])}return l.before.apply(null,q)}function f(p){p.apply(null,[this]);return this}function m(){b(this.parentNode);return this.parentNode}this.c=this.create;this.createAsFirst=function(){var p=l.create.apply(null,arguments);p.parentNode.insertBefore(p,p.parentNode.firstChild);return p};this.caf=this.createAsFirst;this.f=this.createAsFirst;this.empty=function(){var p=i(arguments[0]);while(p.firstChild){p.removeChild(p.firstChild)}b(p);return p};this.e=this.empty;this.after=function(){var s=i(arguments[0]);var q=[];for(var r=1,p=arguments.length;r<p;r++){q.push(arguments[r])}var t=l.create.apply(null,q);if(s.nextSibling){s.parentNode.insertBefore(t,s.nextSibling)}else{s.parentNode.appendChild(t)}return t};this.a=this.after;this.before=function(){var s=i(arguments[0]);var q=[];for(var r=1,p=arguments.length;r<p;r++){q.push(arguments[r])}var t=l.create.apply(null,q);s.parentNode.insertBefore(t,s);return t};this.b=this.before;this.importScript=function(q){var p=document.createElement("script");p.src=q;p.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(p)};return this}).apply({});var Nu=(function(){var a=this;function b(e){return(e.length===+e.length)}var c={};this.each=function(g,h){if(b(g)){for(var f=0,e=g.length;f<e;f++){if(h(g[f],f)===c){break}}}else{for(var f in g){if(h(f,g[f])===c){break}}}return g};this.detect=function(f,g){var e=undefined;a.each(f,function(i,h){if(!g(i,h)){return}e=b(f)?i:[i,h];return c});return e};this.find=this.detect;this.collect=function(f,g){var e=[];a.each(f,function(i,h){e.push(g(i,h))});return e};this.map=this.collect;this.inject=function(f,e,g){if(arguments.length===2){g=e}var h=arguments.length<3;a.each(f,function(j,i){if(h){e=b(f)?j:i;h=false;return}e=g(e,j,i)});return e};this.foldl=this.inject;this.reduce=this.inject;this.select=function(g,h){var f=b(g);var e=f?[]:{};a.each(g,function(j,i){var l=f?h(i,j):h(j,i);if(!l){return}if(f){e.push(i)}else{e[j]=i}});return e};this.filter=this.select;this.max=function(e){return a.reduce(e,function(f,g){return f>g?f:g})};this.min=function(e){return a.reduce(e,function(f,g){return f>g?g:f})};function d(f,g,e){if(g<-1){g=-1}a.each(f,function(h){if(Array.isArray(h)&&(g===-1||g>0)){d(h,g-1,e)}else{e.push(h)}});return e}this.flatten=function(e,f){return d(e,f||-1,[])};this.isEmpty=function(f){if(b(f)){return f.length===0}for(var e in f){if(f.hasOwnProperty(e)){return false}}return true};this.eachWithObject=function(f,e,g){if(Array.isArray(f)){return a.inject(f,e,function(h,i){g(i,h);return h})}else{return a.inject(f,e,function(h,j,i){g(j,i,h);return h})}};this.compact=function(e){if(Array.isArray(e)){return a.eachWithObject(e,[],function(g,f){if(g!==undefined&&g!==null){f.push(g)}})}else{return a.eachWithObject(e,{},function(g,f,i){if(f!==undefined&&f!==null){i[g]=f}})}};if([].indexOf){this.include=function(e,f){return(e.indexOf(f)>-1)}}else{this.include=function(f,h){for(var g=0,e=f.length;g<e;g++){if(f[g]===h){return true}}return false}}return this}).apply({});var John=(function(){var o=this;function e(q){try{return JSON.parse(q)}catch(r){}return undefined}function b(q){return JSON.stringify(q)}var h=" \t";function n(q){while(q.length>0&&h.indexOf(q.slice(0,1))>-1){q=q.slice(1)}return q}var a=/^'((?:\\.|[^'])*)'/;var g=/^"((?:\\.|[^"])*)"/;function c(q,r){return(q==='"'?g:a).exec(r)[1]}var d=/^[^}\],:\s]+/;function j(q){return d.exec(q)[0]}var l="{}[],:";function m(q,t){t=n(t);var w=t.slice(0,1);if(w.length===0){return q}var r=l.indexOf(w);if(r>-1){if(r<5){q.push(r)}return m(q,t.slice(1))}if(w==='"'||w==="'"){var v=c(w,t);q.push(v);return m(q,t.slice(v.length+2))}var u=j(t);q.push(u);return m(q,t.slice(u.length))}this.t=m;var p={};function i(s){var t={};while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}var q=f(s);t[r]=(q===p||q===undefined)?null:q}return t}function k(s){var q=[];while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}q.push(r)}return q}function f(s){var r=s.shift();if(r===0){return i(s)}if(r===2){return k(s)}if(r===1||r===3){return undefined}if(r===4){return p}var q=e(r);return q===undefined?r:q}this.parse=function(q){return f(m([],q))};this.p=this.parse;this.stringify=function(z,y){y=y||{};if(z===null){return y.ruby?"nil":"null"}var w=(typeof z);if(w==="number"||w==="boolean"){return""+z}if(z instanceof Array){var q=[];z.forEach(function(s){q.push(o.s(s,y))});return(q.length<1)?"[]":"[ "+q.join(", ")+" ]"}if(w==="object"){var q=[];for(var u in z){var x=o.s(u);var r=z[u];if(r!==null){x=x+": "+o.s(r,y)}q.push(x)}return(q.length<1)?"{}":"{ "+q.join(", ")+" }"}return(z.match(/[\s:,]/)||y.quote||y.ruby)?b(z):z};this.s=this.stringify;this.sfy=function(t,r){var q=this.stringify(t,r);if(q.match(/^{.*}$/)||q.match(/^\[.*\]$/)){q=q.slice(1,-1).trim()}return q};return this}).apply({});var Foolbox=(function(){var q="1.0.0";var n=this;function a(r){return((typeof r)==="string")}function p(r){return r&&((typeof r)==="object")&&(!h(r))}function f(r){return r&&(!a(r))&&(r.length===+r.length)}function h(r){return r&&a(r.nodeName)}function m(r){return r&&a(r.jquery)}function c(r){return h(r)||m(r)}function j(r){if(r.jquery){return r[0]}return r}this.create=function(){var t=null;var u=null;var x={};var z=null;var w=0;var A=arguments[0];w++;if(A){if(m(A)){t=A[0]}else{if(h(A)){t=A}else{w=0}}}A=arguments[w];if(a(A)&&A.match(/^[a-zA-Z][a-zA-Z0-9]*$/)){w++;u=A}A=arguments[w];var s=null;if(a(A)&&(s=i(u,A))){w++;if(s.tagName){u=s.tagName}if(s.id){x.id=s.id}if(s["class"]){x["class"]=s["class"]}if(s.atts){for(var v in s.atts){x[v]=s.atts[v]}}}A=arguments[w];if(!m(A)&&p(A)){w++;for(var v in A){x[v]=A[v]}}A=arguments[w];if(a(A)){w++;z=A}var y;A=arguments[w];if(!u&&arguments.length===2&&c(A)){w++;y=j(A)}y=y||document.createElement(u||"div");while(w<arguments.length){A=arguments[w];w++;if(h(A)){y.appendChild(A)}}for(var v in x){y.setAttribute(v,x[v])}if(z){y.innerHTML=z}if(t){t.appendChild(y)}b(y);return y};function b(r){r.c=k;r.s=l;r.a=l;r.b=e;r.f=d;r.t=g;r.p=o;try{Object.defineProperty(r,"$",{get:function(){return $(r)},set:function(){}})}catch(s){}}function i(u,v){if(v.match(/\s/)){return false}if(u&&(!v.match(/[\.#@]/))){return false}var w={};var t=v.split(/^([^\.#@]+)?(.*)$/);if(t[1]){w.tagName=t[1];v=t[2]}while(v&&(t=v.split(/^([\.#@])([^\.#@]+)/))){if(t[1]==="#"){w.id=t[2]}else{if(t[1]==="."){w["class"]=w["class"]||[];w["class"].push(t[2])}else{if(t[1]==="@"){var x=t[2].split("=");w.atts=w.atts||{};w.atts[x[0]]=x[1]}}}v=t[3]}if(w["class"]){w["class"]=w["class"].join(" ")}return w}function k(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.create.apply(null,s)}function d(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.createAsFirst.apply(null,s)}function l(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.after.apply(null,s)}function e(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.before.apply(null,s)}function g(r){r.apply(null,[this]);return this}function o(){b(this.parentNode);return this.parentNode}this.c=this.create;this.createAsFirst=function(){var r=n.create.apply(null,arguments);r.parentNode.insertBefore(r,r.parentNode.firstChild);return r};this.caf=this.createAsFirst;this.f=this.createAsFirst;this.empty=function(){var r=j(arguments[0]);while(r.firstChild){r.removeChild(r.firstChild)}b(r);return r};this.e=this.empty;this.after=function(){var u=j(arguments[0]);var s=[];for(var t=1,r=arguments.length;t<r;t++){s.push(arguments[t])}var v=n.create.apply(null,s);if(u.nextSibling){u.parentNode.insertBefore(v,u.nextSibling)}else{u.parentNode.appendChild(v)}return v};this.a=this.after;this.before=function(){var u=j(arguments[0]);var s=[];for(var t=1,r=arguments.length;t<r;t++){s.push(arguments[t])}var v=n.create.apply(null,s);u.parentNode.insertBefore(v,u);return v};this.b=this.before;this.importScript=function(t){var r=document.createElement("script");r.src=t;r.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(r)};return this}).apply({});var Nu=(function(){var a=this;function b(e){return(e.length===+e.length)}var c={};this.each=function(g,h){if(b(g)){for(var f=0,e=g.length;f<e;f++){if(h(g[f],f)===c){break}}}else{for(var f in g){if(h(f,g[f])===c){break}}}return g};this.detect=function(f,g){var e=undefined;a.each(f,function(i,h){if(!g(i,h)){return}e=b(f)?i:[i,h];return c});return e};this.find=this.detect;this.collect=function(f,g){var e=[];a.each(f,function(i,h){e.push(g(i,h))});return e};this.map=this.collect;this.inject=function(f,e,g){if(arguments.length===2){g=e}var h=arguments.length<3;a.each(f,function(j,i){if(h){e=b(f)?j:i;h=false;return}e=g(e,j,i)});return e};this.foldl=this.inject;this.reduce=this.inject;this.select=function(g,h){var f=b(g);var e=f?[]:{};a.each(g,function(j,i){var l=f?h(i,j):h(j,i);if(!l){return}if(f){e.push(i)}else{e[j]=i}});return e};this.filter=this.select;this.max=function(e){return a.reduce(e,function(f,g){return f>g?f:g})};this.min=function(e){return a.reduce(e,function(f,g){return f>g?g:f})};function d(f,g,e){if(g<-1){g=-1}a.each(f,function(h){if(Array.isArray(h)&&(g===-1||g>0)){d(h,g-1,e)}else{e.push(h)}});return e}this.flatten=function(e,f){return d(e,f||-1,[])};this.isEmpty=function(f){if(b(f)){return f.length===0}for(var e in f){if(f.hasOwnProperty(e)){return false}}return true};this.eachWithObject=function(f,e,g){if(Array.isArray(f)){return a.inject(f,e,function(h,i){g(i,h);return h})}else{return a.inject(f,e,function(h,j,i){g(j,i,h);return h})}};this.compact=function(e){if(Array.isArray(e)){return a.eachWithObject(e,[],function(g,f){if(g!==undefined&&g!==null){f.push(g)}})}else{return a.eachWithObject(e,{},function(g,f,i){if(f!==undefined&&f!==null){i[g]=f}})}};if([].indexOf){this.include=function(e,f){return(e.indexOf(f)>-1)}}else{this.include=function(f,h){for(var g=0,e=f.length;g<e;g++){if(f[g]===h){return true}}return false}}return this}).apply({});var John=(function(){var o=this;function e(q){try{return JSON.parse(q)}catch(r){}return undefined}function b(q){return JSON.stringify(q)}var h=" \t";function n(q){while(q.length>0&&h.indexOf(q.slice(0,1))>-1){q=q.slice(1)}return q}var a=/^'((?:\\.|[^'])*)'/;var g=/^"((?:\\.|[^"])*)"/;function c(q,r){return(q==='"'?g:a).exec(r)[1]}var d=/^[^}\],:\s]+/;function j(q){return d.exec(q)[0]}var l="{}[],:";function m(q,t){t=n(t);var w=t.slice(0,1);if(w.length===0){return q}var r=l.indexOf(w);if(r>-1){if(r<5){q.push(r)}return m(q,t.slice(1))}if(w==='"'||w==="'"){var v=c(w,t);q.push(v);return m(q,t.slice(v.length+2))}var u=j(t);q.push(u);return m(q,t.slice(u.length))}this.t=m;var p={};function i(s){var t={};while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}var q=f(s);t[r]=(q===p||q===undefined)?null:q}return t}function k(s){var q=[];while(true){var r=f(s);if(r===p){continue}if(r===undefined){break}q.push(r)}return q}function f(s){var r=s.shift();if(r===0){return i(s)}if(r===2){return k(s)}if(r===1||r===3){return undefined}if(r===4){return p}var q=e(r);return q===undefined?r:q}this.parse=function(q){return f(m([],q))};this.p=this.parse;this.stringify=function(z,y){y=y||{};if(z===null){return y.ruby?"nil":"null"}var w=(typeof z);if(w==="number"||w==="boolean"){return""+z}if(z instanceof Array){var q=[];z.forEach(function(s){q.push(o.s(s,y))});return(q.length<1)?"[]":"[ "+q.join(", ")+" ]"}if(w==="object"){var q=[];for(var u in z){var x=o.s(u);var r=z[u];if(r!==null){x=x+": "+o.s(r,y)}q.push(x)}return(q.length<1)?"{}":"{ "+q.join(", ")+" }"}return(z.match(/[\s:,]/)||y.quote||y.ruby)?b(z):z};this.s=this.stringify;this.sfy=function(t,r){var q=this.stringify(t,r);if(q.match(/^{.*}$/)||q.match(/^\[.*\]$/)){q=q.slice(1,-1).trim()}return q};return this}).apply({});var Foolbox=(function(){var q="1.0.0";var n=this;function a(r){return((typeof r)==="string")}function p(r){return r&&((typeof r)==="object")&&(!h(r))}function f(r){return r&&(!a(r))&&(r.length===+r.length)}function h(r){return r&&a(r.nodeName)}function m(r){return r&&a(r.jquery)}function c(r){return h(r)||m(r)}function j(r){if(r.jquery){return r[0]}return r}this.create=function(){var t=null;var u=null;var x={};var z=null;var w=0;var A=arguments[0];w++;if(A){if(m(A)){t=A[0]}else{if(h(A)){t=A}else{w=0}}}A=arguments[w];if(a(A)&&A.match(/^[a-zA-Z][a-zA-Z0-9]*$/)){w++;u=A}A=arguments[w];var s=null;if(a(A)&&(s=i(u,A))){w++;if(s.tagName){u=s.tagName}if(s.id){x.id=s.id}if(s["class"]){x["class"]=s["class"]}if(s.atts){for(var v in s.atts){x[v]=s.atts[v]}}}A=arguments[w];if(!m(A)&&p(A)){w++;for(var v in A){x[v]=A[v]}}A=arguments[w];if(a(A)){w++;z=A}var y;A=arguments[w];if(!u&&arguments.length===2&&c(A)){w++;y=j(A)}y=y||document.createElement(u||"div");while(w<arguments.length){A=arguments[w];w++;if(h(A)){y.appendChild(A)}}for(var v in x){y.setAttribute(v,x[v])}if(z){y.innerHTML=z}if(t){t.appendChild(y)}b(y);return y};function b(r){r.c=k;r.s=l;r.a=l;r.b=e;r.f=d;r.t=g;r.p=o;try{Object.defineProperty(r,"$",{get:function(){return $(r)},set:function(){}})}catch(s){}}function i(u,v){if(v.match(/\s/)){return false}if(u&&(!v.match(/[\.#@]/))){return false}var w={};var t=v.split(/^([^\.#@]+)?(.*)$/);if(t[1]){w.tagName=t[1];v=t[2]}while(v&&(t=v.split(/^([\.#@])([^\.#@]+)/))){if(t[1]==="#"){w.id=t[2]}else{if(t[1]==="."){w["class"]=w["class"]||[];w["class"].push(t[2])}else{if(t[1]==="@"){var x=t[2].split("=");w.atts=w.atts||{};w.atts[x[0]]=x[1]}}}v=t[3]}if(w["class"]){w["class"]=w["class"].join(" ")}return w}function k(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.create.apply(null,s)}function d(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.createAsFirst.apply(null,s)}function l(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.after.apply(null,s)}function e(){var s=[this];for(var r in arguments){s.push(arguments[r])}return n.before.apply(null,s)}function g(r){r.apply(null,[this]);return this}function o(){b(this.parentNode);return this.parentNode}this.c=this.create;this.createAsFirst=function(){var r=n.create.apply(null,arguments);r.parentNode.insertBefore(r,r.parentNode.firstChild);return r};this.caf=this.createAsFirst;this.f=this.createAsFirst;this.empty=function(){var r=j(arguments[0]);while(r.firstChild){r.removeChild(r.firstChild)}b(r);return r};this.e=this.empty;this.after=function(){var u=j(arguments[0]);var s=[];for(var t=1,r=arguments.length;t<r;t++){s.push(arguments[t])}var v=n.create.apply(null,s);if(u.nextSibling){u.parentNode.insertBefore(v,u.nextSibling)}else{u.parentNode.appendChild(v)}return v};this.a=this.after;this.before=function(){var u=j(arguments[0]);var s=[];for(var t=1,r=arguments.length;t<r;t++){s.push(arguments[t])}var v=n.create.apply(null,s);u.parentNode.insertBefore(v,u);return v};this.b=this.before;this.importScript=function(t){var r=document.createElement("script");r.src=t;r.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(r)};this.wrap=function(r){r=j(r);b(r);return r};this.w=this.wrap;return this}).apply({});
/* compressed from commit ae8623f */
